<ng-container *ngIf='question$ | async as question'>
  <div itemprop='mainEntity' itemscope itemtype='https://schema.org/Question'>
    <div class='layout-container'>
      <header>

        <!--        <div class='grid-left'>
                  <button mat-icon-button>
                    <mat-icon>arrow_drop_up</mat-icon>
                  </button>
                  <div class='score'>1</div>
                  <button mat-icon-button>
                    <mat-icon>arrow_drop_down</mat-icon>
                  </button>
                </div>-->


        <div class='header-one'>

          <div>
            <h4 itemprop='name' class='headline-4'>{{question.title}}</h4>

            <div class='body-2 header-one-description'>
              <p>{{question.viewCount}} görüntüleme</p>
              <span class='bracket'>—</span>
              <time itemprop='dateCreated'
                    [attr.datetime]='question.creationTime'>{{question.creationTime | relativeTimeFormat}}</time>
            </div>
          </div>

          <div>
            <button mat-button matTooltip='Bunu beğendim' (click)='openLogInPopup()' #trigger>
              <app-gf-icon name='favorite'></app-gf-icon>
              <span>Beğen</span>
            </button>

            <button mat-button (click)='openShareDialog()' matTooltip='Paylaş'>
              <app-gf-icon name='share'></app-gf-icon>
              <span>Paylaş</span>
            </button>

            <button mat-button>
              <mat-icon fontSet='material-icons-outlined'>visibility</mat-icon>
              <span>Takip et</span>
            </button>

            <button mat-button matTooltip='Favorilere ekle' (click)='addToFavorite(question.id)'>
              <app-gf-icon name='bookmark_add'></app-gf-icon>
              <span>Favorilere ekle</span>
            </button>

            <!--<button mat-icon-button [matMenuTriggerFor]='flagMenu'>
              <mat-icon fontSet='material-icons-two-tone'>more_horiz</mat-icon>
            </button>-->

            <mat-menu #flagMenu='matMenu'>
              <ng-template matMenuContent>
                <button mat-menu-item>
                  <app-gf-icon name='flag'></app-gf-icon>
                  <span>Bildir</span>
                </button>
              </ng-template>
            </mat-menu>
          </div>

        </div>

        <div itemprop='author' itemscope itemtype='https://schema.org/Person'>
          <div class='author'>
            <inek-img-shadow class='question-user-picture-render' [src]='question.user.picture' [width]='64'
                             [height]='64' [itemprop]='true'
                             [alt]='question.user.displayName'></inek-img-shadow>

            <div class='author-info'>
              <a routerLink='/user/{{question.user.id}}'>
                <div itemprop='name' id='author-name'>{{question.user.displayName}}</div>
              </a>
              <div class='author-badge'>Seviye 1</div>
            </div>
          </div>
        </div>

      </header>
    </div>

    <!-- Question Content -->
    <inek-question-text [content]='question.content'></inek-question-text>

    <!-- Comments -->
    <app-question-comment-list></app-question-comment-list>

    <!-- Answers -->
    <app-question-answers [acceptedAnswerId]='question?.acceptedAnswerId'></app-question-answers>

  </div>

  <!--
    Answer Form
  -->
  <app-answer-form></app-answer-form>
</ng-container>

<ng-template #loginPopup>
  <mat-card class='mat-elevation-z4'>

    <mat-card-title>Bu soruyu beğendiniz mi?</mat-card-title>
    <mat-card-subtitle>Düşüncelerinizi paylaşmak için oturum açın.</mat-card-subtitle>


    <mat-card-actions>
      <button color='primary' mat-button>OTURUM AÇ</button>
    </mat-card-actions>


  </mat-card>
</ng-template>